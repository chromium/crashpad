<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Crashpad: crashpad::WeakFileHandleFileReader Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="crashpad_doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Crashpad
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecrashpad.html">crashpad</a></li><li class="navelem"><a class="el" href="classcrashpad_1_1WeakFileHandleFileReader.html">WeakFileHandleFileReader</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classcrashpad_1_1WeakFileHandleFileReader-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">crashpad::WeakFileHandleFileReader Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A file reader backed by a <a class="el" href="namespacecrashpad.html#aa23e97af4fc55d89e2f7f6775138980c" title="Platform-specific alias for a low-level file handle.">FileHandle</a>.  
 <a href="#details">More...</a></p>

<p><code>#include &quot;util/file/file_reader.h&quot;</code></p>
<div class="dynheader">
Inheritance diagram for crashpad::WeakFileHandleFileReader:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classcrashpad_1_1WeakFileHandleFileReader.png" usemap="#crashpad::WeakFileHandleFileReader_map" alt=""/>
  <map id="crashpad::WeakFileHandleFileReader_map" name="crashpad::WeakFileHandleFileReader_map">
<area href="classcrashpad_1_1FileReaderInterface.html" title="An interface to read to files and other file-like objects with semantics matching the underlying plat..." alt="crashpad::FileReaderInterface" shape="rect" coords="0,56,225,80"/>
<area href="classcrashpad_1_1FileSeekerInterface.html" title="An interface to seek in files and other file-like objects with semantics matching the underlying plat..." alt="crashpad::FileSeekerInterface" shape="rect" coords="0,0,225,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7519ba1a757e902c30c259dc3829f9f5" id="r_a7519ba1a757e902c30c259dc3829f9f5"><td class="memItemLeft" align="right" valign="top"><a id="a7519ba1a757e902c30c259dc3829f9f5" name="a7519ba1a757e902c30c259dc3829f9f5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>WeakFileHandleFileReader</b> (<a class="el" href="namespacecrashpad.html#aa23e97af4fc55d89e2f7f6775138980c">FileHandle</a> file_handle)</td></tr>
<tr class="separator:a7519ba1a757e902c30c259dc3829f9f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adabfaf3549ac5a3269475a567645e095" id="r_adabfaf3549ac5a3269475a567645e095"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecrashpad.html#a9cbae3880f57681cd84026b2c5a042ca">FileOperationResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adabfaf3549ac5a3269475a567645e095">Read</a> (void *data, size_t size) override</td></tr>
<tr class="memdesc:adabfaf3549ac5a3269475a567645e095"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wraps <a class="el" href="namespacecrashpad.html#a8599600814a17d622766decd5f122a96" title="Reads from a file, retrying when interrupted before reading any data on POSIX.">ReadFile()</a>, or provides an implementation with identical semantics.  <br /></td></tr>
<tr class="separator:adabfaf3549ac5a3269475a567645e095"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8374ad1eb0a03bfb5f36d6a5e8959f98" id="r_a8374ad1eb0a03bfb5f36d6a5e8959f98"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecrashpad.html#a73e870ea9156f1bfdff1b998a77cdd9e">FileOffset</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8374ad1eb0a03bfb5f36d6a5e8959f98">Seek</a> (<a class="el" href="namespacecrashpad.html#a73e870ea9156f1bfdff1b998a77cdd9e">FileOffset</a> offset, int whence) override</td></tr>
<tr class="memdesc:a8374ad1eb0a03bfb5f36d6a5e8959f98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wraps <a class="el" href="namespacecrashpad.html#a3d6cedc10e24145d4a0c1000c33f8a10" title="Wraps lseek() or SetFilePointerEx(). Logs an error if the operation fails.">LoggingSeekFile()</a> or provides an alternate implementation with identical semantics.     <br /></td></tr>
<tr class="separator:a8374ad1eb0a03bfb5f36d6a5e8959f98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classcrashpad_1_1FileReaderInterface"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classcrashpad_1_1FileReaderInterface')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classcrashpad_1_1FileReaderInterface.html">crashpad::FileReaderInterface</a></td></tr>
<tr class="memitem:ad046f1ebf1071eb6b92a2a8d06c14a56 inherit pub_methods_classcrashpad_1_1FileReaderInterface" id="r_ad046f1ebf1071eb6b92a2a8d06c14a56"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrashpad_1_1FileReaderInterface.html#ad046f1ebf1071eb6b92a2a8d06c14a56">ReadExactly</a> (void *data, size_t size)</td></tr>
<tr class="memdesc:ad046f1ebf1071eb6b92a2a8d06c14a56 inherit pub_methods_classcrashpad_1_1FileReaderInterface"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wraps <a class="el" href="classcrashpad_1_1FileReaderInterface.html#ad9035ff345274f33cef248712d53d9e1" title="Wraps ReadFile(), or provides an implementation with identical semantics.">Read()</a>, ensuring that the read succeeded and exactly <em class="arg">size</em> bytes were read.  <br /></td></tr>
<tr class="separator:ad046f1ebf1071eb6b92a2a8d06c14a56 inherit pub_methods_classcrashpad_1_1FileReaderInterface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classcrashpad_1_1FileSeekerInterface"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classcrashpad_1_1FileSeekerInterface')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classcrashpad_1_1FileSeekerInterface.html">crashpad::FileSeekerInterface</a></td></tr>
<tr class="memitem:a49a884bfb0a61461b0291c975aa15382 inherit pub_methods_classcrashpad_1_1FileSeekerInterface" id="r_a49a884bfb0a61461b0291c975aa15382"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecrashpad.html#a73e870ea9156f1bfdff1b998a77cdd9e">FileOffset</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrashpad_1_1FileSeekerInterface.html#a49a884bfb0a61461b0291c975aa15382">SeekGet</a> ()</td></tr>
<tr class="memdesc:a49a884bfb0a61461b0291c975aa15382 inherit pub_methods_classcrashpad_1_1FileSeekerInterface"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wraps <a class="el" href="classcrashpad_1_1FileSeekerInterface.html#a8d56f7d12dfcce3e4a39ad1524302aa1" title="Wraps LoggingSeekFile() or provides an alternate implementation with identical semantics.">Seek()</a>, using <code>SEEK_CUR</code> to obtain the file’s current position.  <br /></td></tr>
<tr class="separator:a49a884bfb0a61461b0291c975aa15382 inherit pub_methods_classcrashpad_1_1FileSeekerInterface"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add2e1ee642d94c91ef722911e9aee250 inherit pub_methods_classcrashpad_1_1FileSeekerInterface" id="r_add2e1ee642d94c91ef722911e9aee250"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrashpad_1_1FileSeekerInterface.html#add2e1ee642d94c91ef722911e9aee250">SeekSet</a> (<a class="el" href="namespacecrashpad.html#a73e870ea9156f1bfdff1b998a77cdd9e">FileOffset</a> offset)</td></tr>
<tr class="memdesc:add2e1ee642d94c91ef722911e9aee250 inherit pub_methods_classcrashpad_1_1FileSeekerInterface"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wraps <a class="el" href="classcrashpad_1_1FileSeekerInterface.html#a8d56f7d12dfcce3e4a39ad1524302aa1" title="Wraps LoggingSeekFile() or provides an alternate implementation with identical semantics.">Seek()</a>, using <code>SEEK_SET</code>, ensuring that the seek succeeded and the file is positioned as desired.  <br /></td></tr>
<tr class="separator:add2e1ee642d94c91ef722911e9aee250 inherit pub_methods_classcrashpad_1_1FileSeekerInterface"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:adffc0f3783ef498cd7705f60f8590290" id="r_adffc0f3783ef498cd7705f60f8590290"><td class="memItemLeft" align="right" valign="top"><a id="adffc0f3783ef498cd7705f60f8590290" name="adffc0f3783ef498cd7705f60f8590290"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>FileReader</b></td></tr>
<tr class="separator:adffc0f3783ef498cd7705f60f8590290"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A file reader backed by a <a class="el" href="namespacecrashpad.html#aa23e97af4fc55d89e2f7f6775138980c" title="Platform-specific alias for a low-level file handle.">FileHandle</a>. </p>
<p><a class="el" href="classcrashpad_1_1FileReader.html" title="A file reader implementation that wraps traditional system file operations on files accessed through ...">FileReader</a> requires users to provide a FilePath to open, but this class accepts an already-open <a class="el" href="namespacecrashpad.html#aa23e97af4fc55d89e2f7f6775138980c" title="Platform-specific alias for a low-level file handle.">FileHandle</a> instead. Like <a class="el" href="classcrashpad_1_1FileReader.html" title="A file reader implementation that wraps traditional system file operations on files accessed through ...">FileReader</a>, this class may read from a filesystem-based file, but unlike <a class="el" href="classcrashpad_1_1FileReader.html" title="A file reader implementation that wraps traditional system file operations on files accessed through ...">FileReader</a>, this class is not responsible for opening or closing the file. Users of this class must ensure that the file handle is closed appropriately elsewhere. Objects of this class may be used to read from file handles not associated with filesystem-based files, although special attention should be paid to the <a class="el" href="#a8374ad1eb0a03bfb5f36d6a5e8959f98" title="Wraps LoggingSeekFile() or provides an alternate implementation with identical semantics.">Seek()</a> method, which may not function on file handles that do not refer to disk-based files.</p>
<p>This class is expected to be used when other code is responsible for opening files and already provides file handles. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="adabfaf3549ac5a3269475a567645e095" name="adabfaf3549ac5a3269475a567645e095"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adabfaf3549ac5a3269475a567645e095">&#9670;&#160;</a></span>Read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacecrashpad.html#a9cbae3880f57681cd84026b2c5a042ca">FileOperationResult</a> crashpad::WeakFileHandleFileReader::Read </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wraps <a class="el" href="namespacecrashpad.html#a8599600814a17d622766decd5f122a96" title="Reads from a file, retrying when interrupted before reading any data on POSIX.">ReadFile()</a>, or provides an implementation with identical semantics. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes actually read if the operation succeeded, which may be <code>0</code> or any positive value less than or equal to <em class="arg">size</em>. <code>-1</code> if the operation failed, with an error message logged. </dd></dl>

<p>Implements <a class="el" href="classcrashpad_1_1FileReaderInterface.html#ad9035ff345274f33cef248712d53d9e1">crashpad::FileReaderInterface</a>.</p>

</div>
</div>
<a id="a8374ad1eb0a03bfb5f36d6a5e8959f98" name="a8374ad1eb0a03bfb5f36d6a5e8959f98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8374ad1eb0a03bfb5f36d6a5e8959f98">&#9670;&#160;</a></span>Seek()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacecrashpad.html#a73e870ea9156f1bfdff1b998a77cdd9e">FileOffset</a> crashpad::WeakFileHandleFileReader::Seek </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacecrashpad.html#a73e870ea9156f1bfdff1b998a77cdd9e">FileOffset</a></td>          <td class="paramname"><span class="paramname"><em>offset</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>whence</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wraps <a class="el" href="namespacecrashpad.html#a3d6cedc10e24145d4a0c1000c33f8a10" title="Wraps lseek() or SetFilePointerEx(). Logs an error if the operation fails.">LoggingSeekFile()</a> or provides an alternate implementation with identical semantics.    </p>
<dl class="section return"><dt>Returns</dt><dd>The return value of <a class="el" href="namespacecrashpad.html#a3d6cedc10e24145d4a0c1000c33f8a10" title="Wraps lseek() or SetFilePointerEx(). Logs an error if the operation fails.">LoggingSeekFile()</a>. <code>-1</code> on failure, with an error message logged.   </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This method is only guaranteed to function on file handles referring to disk-based files. </dd></dl>

<p>Implements <a class="el" href="classcrashpad_1_1FileSeekerInterface.html#a8d56f7d12dfcce3e4a39ad1524302aa1">crashpad::FileSeekerInterface</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>util/file/<b>file_reader.h</b></li>
<li>util/file/<b>file_reader.cc</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
