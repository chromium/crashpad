<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Crashpad: crashpad::MemoryMap Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="crashpad_doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Crashpad
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classcrashpad_1_1MemoryMap.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classcrashpad_1_1MemoryMap-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">crashpad::MemoryMap Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Accesses information about mapped memory in another process.  
 <a href="#details">More...</a></p>

<p><code>#include &quot;util/linux/memory_map.h&quot;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrashpad_1_1MemoryMap_1_1Iterator.html">Iterator</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An abstract base class for iterating over ordered sets of mappings in a <a class="el" href="classcrashpad_1_1MemoryMap.html" title="Accesses information about mapped memory in another process.">MemoryMap</a>.  <a href="classcrashpad_1_1MemoryMap_1_1Iterator.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcrashpad_1_1MemoryMap_1_1Mapping.html">Mapping</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information about a mapped region of memory.  <a href="structcrashpad_1_1MemoryMap_1_1Mapping.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6c08c18f41b08ed7ee26e7634c72abf6" id="r_a6c08c18f41b08ed7ee26e7634c72abf6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c08c18f41b08ed7ee26e7634c72abf6">Initialize</a> (<a class="el" href="classcrashpad_1_1PtraceConnection.html">PtraceConnection</a> *connection)</td></tr>
<tr class="memdesc:a6c08c18f41b08ed7ee26e7634c72abf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes this object with information about the mapped memory regions in the process connected via <em class="arg">connection</em>.  <br /></td></tr>
<tr class="separator:a6c08c18f41b08ed7ee26e7634c72abf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac765748bcf0835bc2268e5884724f4ed" id="r_ac765748bcf0835bc2268e5884724f4ed"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structcrashpad_1_1MemoryMap_1_1Mapping.html">Mapping</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac765748bcf0835bc2268e5884724f4ed">FindMapping</a> (<a class="el" href="namespacecrashpad.html#ac349d7ee7fdd6c312073c0e9d9af3db6">LinuxVMAddress</a> address) const</td></tr>
<tr class="separator:ac765748bcf0835bc2268e5884724f4ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a28378e3ad216fc1bf175ac3a434c72" id="r_a0a28378e3ad216fc1bf175ac3a434c72"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structcrashpad_1_1MemoryMap_1_1Mapping.html">Mapping</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0a28378e3ad216fc1bf175ac3a434c72">FindMappingWithName</a> (const std::string &amp;name) const</td></tr>
<tr class="separator:a0a28378e3ad216fc1bf175ac3a434c72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af65706abe1a19dabc618add1628339b1" id="r_af65706abe1a19dabc618add1628339b1"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classcrashpad_1_1CheckedRange.html">CheckedRange</a>&lt; uint64_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af65706abe1a19dabc618add1628339b1">GetReadableRanges</a> (const <a class="el" href="classcrashpad_1_1CheckedRange.html">CheckedRange</a>&lt; <a class="el" href="namespacecrashpad.html#ac349d7ee7fdd6c312073c0e9d9af3db6">LinuxVMAddress</a>, <a class="el" href="namespacecrashpad.html#af03f17b393b7a4f00279d2c37550b441">LinuxVMSize</a> &gt; &amp;range) const</td></tr>
<tr class="memdesc:af65706abe1a19dabc618add1628339b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a range to be read from the target process, returns a vector of ranges, representing the readable portions of the original range.  <br /></td></tr>
<tr class="separator:af65706abe1a19dabc618add1628339b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60f4f585a397fbfc6c5cc00b5afb13ee" id="r_a60f4f585a397fbfc6c5cc00b5afb13ee"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classcrashpad_1_1MemoryMap_1_1Iterator.html">Iterator</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a60f4f585a397fbfc6c5cc00b5afb13ee">FindFilePossibleMmapStarts</a> (const <a class="el" href="structcrashpad_1_1MemoryMap_1_1Mapping.html">Mapping</a> &amp;mapping) const</td></tr>
<tr class="memdesc:a60f4f585a397fbfc6c5cc00b5afb13ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find possible initial mappings of files mapped over several segments.  <br /></td></tr>
<tr class="separator:a60f4f585a397fbfc6c5cc00b5afb13ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ae8cdb2f210ffd475b56060abcede15" id="r_a1ae8cdb2f210ffd475b56060abcede15"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classcrashpad_1_1MemoryMap_1_1Iterator.html">Iterator</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1ae8cdb2f210ffd475b56060abcede15">ReverseIteratorFrom</a> (const <a class="el" href="structcrashpad_1_1MemoryMap_1_1Mapping.html">Mapping</a> &amp;mapping) const</td></tr>
<tr class="separator:a1ae8cdb2f210ffd475b56060abcede15"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Accesses information about mapped memory in another process. </p>
<p>The target process must be stopped to guarantee correct mappings. If the target process is not stopped, mappings may be invalid after the return from <a class="el" href="#a6c08c18f41b08ed7ee26e7634c72abf6" title="Initializes this object with information about the mapped memory regions in the process connected via...">Initialize()</a>, and even mappings existing at the time <a class="el" href="#a6c08c18f41b08ed7ee26e7634c72abf6" title="Initializes this object with information about the mapped memory regions in the process connected via...">Initialize()</a> was called may not be found. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a60f4f585a397fbfc6c5cc00b5afb13ee" name="a60f4f585a397fbfc6c5cc00b5afb13ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60f4f585a397fbfc6c5cc00b5afb13ee">&#9670;&#160;</a></span>FindFilePossibleMmapStarts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="classcrashpad_1_1MemoryMap_1_1Iterator.html">MemoryMap::Iterator</a> &gt; crashpad::MemoryMap::FindFilePossibleMmapStarts </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcrashpad_1_1MemoryMap_1_1Mapping.html">Mapping</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>mapping</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find possible initial mappings of files mapped over several segments. </p>
<p>Executables and libaries are typically loaded into several mappings with varying permissions for different segments. Portions of an ELF file may be mapped multiple times as part of loading the file, for example, when initializing GNU_RELRO segments.</p>
<p>This method searches for mappings at or below <em class="arg">mapping</em> in memory that are mapped from the same file as <em class="arg">mapping</em> from offset 0.</p>
<p>On Android, ELF modules may be loaded from within a zipfile, so this method may return mappings whose offset is not 0.</p>
<p>This method is intended to help identify the possible base address for loaded modules, but it is the caller's responsibility to determine which returned mapping is correct.</p>
<p>If <em class="arg">mapping</em> does not refer to a valid mapping, an empty vector will be returned and a message will be logged. If <em class="arg">mapping</em> is found but does not map a file, <em class="arg">mapping</em> is returned in <em class="arg">possible_starts</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mapping</td><td>A <a class="el" href="structcrashpad_1_1MemoryMap_1_1Mapping.html" title="Information about a mapped region of memory.">Mapping</a> whose series to find the start of. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a reverse iterator over the possible mapping starts, starting from the mapping with highest base address. </dd></dl>

</div>
</div>
<a id="ac765748bcf0835bc2268e5884724f4ed" name="ac765748bcf0835bc2268e5884724f4ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac765748bcf0835bc2268e5884724f4ed">&#9670;&#160;</a></span>FindMapping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structcrashpad_1_1MemoryMap_1_1Mapping.html">MemoryMap::Mapping</a> * crashpad::MemoryMap::FindMapping </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacecrashpad.html#ac349d7ee7fdd6c312073c0e9d9af3db6">LinuxVMAddress</a></td>          <td class="paramname"><span class="paramname"><em>address</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The <a class="el" href="structcrashpad_1_1MemoryMap_1_1Mapping.html" title="Information about a mapped region of memory.">Mapping</a> containing <em class="arg">address</em> or <code>nullptr</code> if no match is found. The caller does not take ownership of this object. It is scoped to the lifetime of the <a class="el" href="classcrashpad_1_1MemoryMap.html" title="Accesses information about mapped memory in another process.">MemoryMap</a> object that it was obtained from. </dd></dl>

</div>
</div>
<a id="a0a28378e3ad216fc1bf175ac3a434c72" name="a0a28378e3ad216fc1bf175ac3a434c72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a28378e3ad216fc1bf175ac3a434c72">&#9670;&#160;</a></span>FindMappingWithName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structcrashpad_1_1MemoryMap_1_1Mapping.html">MemoryMap::Mapping</a> * crashpad::MemoryMap::FindMappingWithName </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>name</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The <a class="el" href="structcrashpad_1_1MemoryMap_1_1Mapping.html" title="Information about a mapped region of memory.">Mapping</a> with the lowest base address whose name is <em class="arg">name</em> or <code>nullptr</code> if no match is found. The caller does not take ownership of this object. It is scoped to the lifetime of the <a class="el" href="classcrashpad_1_1MemoryMap.html" title="Accesses information about mapped memory in another process.">MemoryMap</a> object that it was obtained from. </dd></dl>

</div>
</div>
<a id="af65706abe1a19dabc618add1628339b1" name="af65706abe1a19dabc618add1628339b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af65706abe1a19dabc618add1628339b1">&#9670;&#160;</a></span>GetReadableRanges()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classcrashpad_1_1CheckedRange.html">CheckedRange</a>&lt; <a class="el" href="namespacecrashpad.html#a3b472f487657ece8e0a9a662a13b2256">VMAddress</a> &gt; &gt; crashpad::MemoryMap::GetReadableRanges </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcrashpad_1_1CheckedRange.html">CheckedRange</a>&lt; <a class="el" href="namespacecrashpad.html#ac349d7ee7fdd6c312073c0e9d9af3db6">LinuxVMAddress</a>, <a class="el" href="namespacecrashpad.html#af03f17b393b7a4f00279d2c37550b441">LinuxVMSize</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>range</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given a range to be read from the target process, returns a vector of ranges, representing the readable portions of the original range. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">range</td><td>The range being identified.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A vector of ranges corresponding to the portion of <em class="arg">range</em> that is readable based on the memory map. </dd></dl>

</div>
</div>
<a id="a6c08c18f41b08ed7ee26e7634c72abf6" name="a6c08c18f41b08ed7ee26e7634c72abf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c08c18f41b08ed7ee26e7634c72abf6">&#9670;&#160;</a></span>Initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool crashpad::MemoryMap::Initialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcrashpad_1_1PtraceConnection.html">PtraceConnection</a> *</td>          <td class="paramname"><span class="paramname"><em>connection</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes this object with information about the mapped memory regions in the process connected via <em class="arg">connection</em>. </p>
<p>This method must be called successfully prior to calling any other method in this class. This method may only be called once.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">connection</td><td>A connection to the process create a map for.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> on success, <code>false</code> on failure with a message logged. </dd></dl>

</div>
</div>
<a id="a1ae8cdb2f210ffd475b56060abcede15" name="a1ae8cdb2f210ffd475b56060abcede15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ae8cdb2f210ffd475b56060abcede15">&#9670;&#160;</a></span>ReverseIteratorFrom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="classcrashpad_1_1MemoryMap_1_1Iterator.html">MemoryMap::Iterator</a> &gt; crashpad::MemoryMap::ReverseIteratorFrom </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcrashpad_1_1MemoryMap_1_1Mapping.html">Mapping</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>mapping</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>A reverse iterator over all mappings in the <a class="el" href="classcrashpad_1_1MemoryMap.html" title="Accesses information about mapped memory in another process.">MemoryMap</a> from <em class="arg">mapping</em> to the start of the <a class="el" href="classcrashpad_1_1MemoryMap.html" title="Accesses information about mapped memory in another process.">MemoryMap</a>. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>util/linux/<b>memory_map.h</b></li>
<li>util/linux/<b>memory_map.cc</b></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacecrashpad.html">crashpad</a></li><li class="navelem"><a class="el" href="classcrashpad_1_1MemoryMap.html">MemoryMap</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
